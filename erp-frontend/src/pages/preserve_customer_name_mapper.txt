// ================= MAPPING FUNCTION =================
  const mapToSimplifiedDisplay = (record: DyeingRecord): SimplifiedDyeingDisplayRecord => {
    console.log('ðŸ”„ Mapping record to simplified display:', record.id);
    console.log('ðŸ“‹ Raw record data:', record);
    
    const trackingInfo = parseTrackingInfo(record.remarks);
    
    // PRESERVE USER INPUT FIX: Always use exactly what the user entered
    // Do not modify customer name at all - show exactly what was saved
    
    const mappedRecord = {
      id: record.id,
      quantity: trackingInfo.originalQuantity || record.quantity, // Use original quantity if available, otherwise use record quantity
      customerName: record.customerName || "", // Always use exactly what was entered, even if empty
      count: record.count || "Standard", // Add count field from dyeing record
      sentToDye: record.quantity || 0, // This is what was actually sent (stored as main quantity in DB)
      sentDate: record.sentDate,
      received: trackingInfo.received || 0,
      receivedDate: trackingInfo.receivedDate,
      dispatch: trackingInfo.dispatch || 0,
      dispatchDate: trackingInfo.dispatchDate,
      partyNameMiddleman: trackingInfo.partyNameMiddleman,
      dyeingFirm: record.dyeingFirm,
      remarks: trackingInfo.originalRemarks || record.remarks
    };
    
    console.log('âœ… Mapped simplified record:', mappedRecord);
    console.log('âœ… Customer name preserved as:', record.customerName);
    console.log('âœ… Mapped quantity (original):', mappedRecord.quantity);
    console.log('âœ… Mapped sentToDye (actual sent):', mappedRecord.sentToDye);
    console.log('âœ… Mapped received value:', mappedRecord.received);
    console.log('âœ… Mapped dispatch value:', mappedRecord.dispatch);
    console.log('âœ… Original record remarks:', record.remarks);
    return mappedRecord;
  };

  // ================= COUNT PRODUCT MAPPING FUNCTION =================
